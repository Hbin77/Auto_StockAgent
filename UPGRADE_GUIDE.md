# ğŸš€ Auto Stock Agent - ìˆ˜ìµë¥  ê·¹ëŒ€í™” ì—…ê·¸ë ˆì´ë“œ ê°€ì´ë“œ

## ğŸ“‹ ì ìš©ëœ ì „ëµ ìš”ì•½

| # | ì „ëµ | íš¨ê³¼ | íŒŒì¼ |
|---|------|------|------|
| 1 | **íŠ¸ë ˆì¼ë§ ìŠ¤íƒ‘** | ìˆ˜ìµ ë³´í˜¸, ì†ì‹¤ ìµœì†Œí™” | `position-manager.js` |
| 2 | **ì‹œì¥ ë ˆì§ í•„í„°** | VIX/SPY ê¸°ë°˜ ë§¤ë§¤ ì œì–´ | `market-regime-filter.js` |
| 3 | **í¬ì§€ì…˜ ì‚¬ì´ì§•** | ë¦¬ìŠ¤í¬ ê´€ë¦¬, ìë³¸ íš¨ìœ¨í™” | `position-manager.js` |
| 4 | **ë³€ë™ì„± ê¸°ë°˜ ì§‘ì¤‘** | ê³ ìˆ˜ìµ ê¸°íšŒ í¬ì°© | `volatility-analyzer.js` |
| 5 | **ìŠ¤ì½”ì–´ë§ ìµœì í™”** | ëª¨ë©˜í…€ ì¤‘ì‹¬ ê°€ì¤‘ì¹˜ | `enhanced-multi-factor-screener.js` |
| 6 | **ë©€í‹° íƒ€ì„í”„ë ˆì„** | ì‹ í˜¸ ì‹ ë¢°ë„ í–¥ìƒ | `multi-timeframe-analyzer.js` |
| 7 | **ì‹œê°„ëŒ€ ì „ëµ** | ì‹œì¥ ì„¸ì…˜ ìµœì í™” | `market-regime-filter.js` |

---

## ğŸ“ ìƒˆë¡œìš´ íŒŒì¼ ëª©ë¡

```
src/
â”œâ”€â”€ enhanced-trader.js              # ê°œì„ ëœ íŠ¸ë ˆì´ë” (ë©”ì¸ ë¡œì§)
â”œâ”€â”€ market-regime-filter.js         # ì‹œì¥ ë ˆì§ í•„í„°
â”œâ”€â”€ position-manager.js             # í¬ì§€ì…˜ ê´€ë¦¬ (íŠ¸ë ˆì¼ë§ ìŠ¤íƒ‘)
â”œâ”€â”€ enhanced-multi-factor-screener.js  # ê°œì„ ëœ ìŠ¤ì½”ì–´ë§
â”œâ”€â”€ volatility-analyzer.js          # ë³€ë™ì„± ë¶„ì„
â”œâ”€â”€ multi-timeframe-analyzer.js     # ë©€í‹° íƒ€ì„í”„ë ˆì„ ë¶„ì„
â””â”€â”€ (ê¸°ì¡´ íŒŒì¼ë“¤ ìœ ì§€)

index-enhanced.js                   # ìƒˆë¡œìš´ ì§„ì…ì 

data/
â””â”€â”€ positions.json                  # í¬ì§€ì…˜ ì¶”ì  ë°ì´í„° (ìë™ ìƒì„±)
```

---

## ğŸ”§ ì„¤ì¹˜ ë°©ë²•

### 1. ìƒˆ íŒŒì¼ë“¤ì„ í”„ë¡œì íŠ¸ì— ë³µì‚¬

```bash
# src í´ë”ì— ìƒˆ íŒŒì¼ë“¤ ë³µì‚¬
cp enhanced-trader.js /path/to/auto_stock/src/
cp market-regime-filter.js /path/to/auto_stock/src/
cp position-manager.js /path/to/auto_stock/src/
cp enhanced-multi-factor-screener.js /path/to/auto_stock/src/
cp volatility-analyzer.js /path/to/auto_stock/src/
cp multi-timeframe-analyzer.js /path/to/auto_stock/src/

# ìƒˆ index íŒŒì¼ ë³µì‚¬
cp index-enhanced.js /path/to/auto_stock/
```

### 2. data í´ë” ìƒì„±

```bash
mkdir -p /path/to/auto_stock/data
```

### 3. ì‹¤í–‰

```bash
# ê¸°ì¡´ ë°©ì‹
node index.js

# ìƒˆë¡œìš´ ë°©ì‹ (ê°œì„  ë²„ì „)
node index-enhanced.js
```

---

## âš™ï¸ ì „ëµë³„ ìƒì„¸ ì„¤ì •

### 1. íŠ¸ë ˆì¼ë§ ìŠ¤íƒ‘ ì„¤ì • (position-manager.js)

```javascript
trailingStop: {
    activationProfit: 2.0,  // 2% ìˆ˜ìµ ì‹œ íŠ¸ë ˆì¼ë§ ìŠ¤íƒ‘ í™œì„±í™”
    trailingPercent: 1.5,   // ê³ ì  ëŒ€ë¹„ 1.5% í•˜ë½ ì‹œ ì²­ì‚°
    initialStopLoss: -3.0,  // ì´ˆê¸° ì†ì ˆì„  -3%
    breakEvenMove: 1.0      // 1% ìˆ˜ìµ ì‹œ ì†ì ˆì„ ì„ ë³¸ì „ìœ¼ë¡œ ì´ë™
}
```

**ë™ì‘ ë°©ì‹:**
1. ë§¤ìˆ˜ í›„ -3% í•˜ë½ â†’ ì¦‰ì‹œ ì†ì ˆ
2. +1% ìˆ˜ìµ ë„ë‹¬ â†’ ì†ì ˆì„ ì„ ë³¸ì „ìœ¼ë¡œ ì´ë™
3. +2% ìˆ˜ìµ ë„ë‹¬ â†’ íŠ¸ë ˆì¼ë§ ìŠ¤íƒ‘ í™œì„±í™”
4. ì´í›„ ê³ ì  ëŒ€ë¹„ -1.5% í•˜ë½ ì‹œ ìë™ ì²­ì‚°

### 2. ìµì ˆ ë ˆë²¨ ì„¤ì • (position-manager.js)

```javascript
takeProfit: {
    level1: { percent: 3.0, sellPercent: 30 },   // 3% ìˆ˜ìµ â†’ 30% ì²­ì‚°
    level2: { percent: 5.0, sellPercent: 30 },   // 5% ìˆ˜ìµ â†’ 30% ì²­ì‚°
    level3: { percent: 10.0, sellPercent: 40 }   // 10% ìˆ˜ìµ â†’ ë‚˜ë¨¸ì§€ ì²­ì‚°
}
```

### 3. ì‹œì¥ ë ˆì§ ê¸°ì¤€ (market-regime-filter.js)

| VIX ìˆ˜ì¤€ | ë ˆì§ | ë§¤ìˆ˜ í—ˆìš© | í¬ì§€ì…˜ í¬ê¸° |
|----------|------|-----------|-------------|
| < 15 | GREED | âœ… | 120% |
| 15-20 | NEUTRAL | âœ… | 100% |
| 20-25 | CAUTIOUS | âœ… | 75% |
| 25-30 | FEAR | âœ… | 50% |
| > 30 | EXTREME_FEAR | âŒ | 30% |

### 4. ì‹œê°„ëŒ€ë³„ ì „ëµ (ë¯¸êµ­ ë™ë¶€ì‹œê°„ ê¸°ì¤€)

| ì‹œê°„ëŒ€ | ì„¸ì…˜ | ì „ëµ |
|--------|------|------|
| 4:00-9:30 AM | PREMARKET | ê´€ë§ |
| 9:30-10:30 AM | OPENING | ë§¤ìˆ˜ ê¸ˆì§€ (ë³€ë™ì„±) |
| 10:30 AM-3:00 PM | CORE | ì ê·¹ì  ë§¤ë§¤ |
| 3:00-4:00 PM | POWER_HOUR | í¬ì§€ì…˜ ì •ë¦¬ |
| 4:00-8:00 PM | AFTERMARKET | ê´€ë§ |

### 5. ìŠ¤ì½”ì–´ë§ ê°€ì¤‘ì¹˜ (enhanced-multi-factor-screener.js)

| ìš”ì†Œ | ê¸°ì¡´ ê°€ì¤‘ì¹˜ | ìƒˆ ê°€ì¤‘ì¹˜ | ì´ìœ  |
|------|-------------|-----------|------|
| Technical | 40 | 25 | ê³¼ë„í•œ ì˜ì¡´ ê°ì†Œ |
| Momentum | 30 | **40** | ë°ì´íŠ¸ë ˆì´ë”© í•µì‹¬ |
| Fundamental | 20 | 10 | ë‹¨íƒ€ì— ëœ ì¤‘ìš” |
| Sentiment | 10 | 15 | ë‰´ìŠ¤ ë°˜ì‘ ê°•í™” |
| Volatility | 0 | **10** | ì‹ ê·œ ì¶”ê°€ |

### 6. í¬ì§€ì…˜ ì‚¬ì´ì§• (position-manager.js)

```javascript
// ì ìˆ˜ ê¸°ë°˜ í¬ì§€ì…˜ í¬ê¸°
Score 90+  â†’ ì´ ìì‚°ì˜ 5%
Score 80-89 â†’ ì´ ìì‚°ì˜ 4%
Score 70-79 â†’ ì´ ìì‚°ì˜ 3%
Score 60-69 â†’ ì´ ìì‚°ì˜ 2%
```

**ì¶”ê°€ ì œí•œ:**
- ìµœëŒ€ 20ê°œ í¬ì§€ì…˜
- ì´ ë…¸ì¶œ 80% ì´í•˜
- ê³ ë³€ë™ì„± ì¢…ëª©ì€ í¬ì§€ì…˜ ì¶•ì†Œ

---

## ğŸ“Š ì˜ˆìƒ ê°œì„  íš¨ê³¼

| ì§€í‘œ | ê¸°ì¡´ | ê°œì„  í›„ (ì˜ˆìƒ) |
|------|------|----------------|
| ìµœëŒ€ ì†ì‹¤ | -3% (ê³ ì •) | -1.5% ~ -3% (íŠ¸ë ˆì¼ë§) |
| í‰ê·  ìµì ˆ | +0.5% | +3% ~ +10% (ë‹¤ë‹¨ê³„) |
| ìŠ¹ë¥  | ~45% | ~55% (í•„í„°ë§ ê°•í™”) |
| ì†ìµë¹„ | 1:0.17 | 1:2 ~ 1:5 |

---

## âš ï¸ ì£¼ì˜ì‚¬í•­

1. **ë°±í…ŒìŠ¤íŠ¸ í•„ìˆ˜**: ì‹¤ì „ íˆ¬ì ì „ ë°˜ë“œì‹œ ëª¨ì˜íˆ¬ìë¡œ í…ŒìŠ¤íŠ¸
2. **API í˜¸ì¶œ ì œí•œ**: ë” ë§ì€ ë¶„ì„ìœ¼ë¡œ API í˜¸ì¶œ ì¦ê°€ â†’ Rate Limit ì£¼ì˜
3. **ë°ì´í„° í´ë”**: `data/positions.json` íŒŒì¼ì´ ìë™ ìƒì„±ë¨
4. **ê¸°ì¡´ ì½”ë“œ í˜¸í™˜**: ê¸°ì¡´ `index.js`ëŠ” ê·¸ëŒ€ë¡œ ìœ ì§€ë¨

---

## ğŸ”„ ë¡¤ë°± ë°©ë²•

ê°œì„  ë²„ì „ì— ë¬¸ì œê°€ ìˆì„ ê²½ìš°:

```bash
# ê¸°ì¡´ ë²„ì „ìœ¼ë¡œ ì‹¤í–‰
node index.js
```

---

## ğŸ“ ë¡œê·¸ í™•ì¸

```bash
# ì‹¤ì‹œê°„ ë¡œê·¸
tail -f trade.log

# ì—ëŸ¬ ë¡œê·¸
tail -f trade-error.log
```

---

## ğŸ’¡ ì¶”ê°€ ìµœì í™” íŒ

1. **VIX ì„ê³„ê°’ ì¡°ì •**: ì‹œì¥ ìƒí™©ì— ë”°ë¼ `market-regime-filter.js`ì˜ VIX ì„ê³„ê°’ ì¡°ì •
2. **íŠ¸ë ˆì¼ë§ ìŠ¤íƒ‘ ë¹„ìœ¨**: ë³€ë™ì„±ì— ë”°ë¼ `trailingPercent` ì¡°ì • (1.5% â†’ 2% ë“±)
3. **ìµì ˆ ë ˆë²¨**: ëª©í‘œ ìˆ˜ìµë¥ ì— ë”°ë¼ `takeProfit` ë ˆë²¨ ì¡°ì •
4. **ìµœëŒ€ í¬ì§€ì…˜ ìˆ˜**: ìë³¸ê¸ˆì— ë”°ë¼ `maxPositionsCount` ì¡°ì •

---

## ğŸ†˜ ë¬¸ì œ í•´ê²°

### Q: "Market closed" ë©”ì‹œì§€ê°€ ê³„ì† ë‚˜ì˜´
A: ì‹œê°„ëŒ€ í™•ì¸. ë¯¸êµ­ ë™ë¶€ì‹œê°„ ê¸°ì¤€ 9:30 AM - 4:00 PMë§Œ ê±°ë˜

### Q: ë§¤ìˆ˜ê°€ ì•ˆ ë¨
A: VIX í™•ì¸. VIX > 30ì´ë©´ ë§¤ìˆ˜ ì°¨ë‹¨ë¨

### Q: í¬ì§€ì…˜ ë°ì´í„°ê°€ ì‚¬ë¼ì§
A: `data/positions.json` íŒŒì¼ í™•ì¸ ë° ê¶Œí•œ í™•ì¸

---

Good luck with your trading! ğŸš€ğŸ“ˆ